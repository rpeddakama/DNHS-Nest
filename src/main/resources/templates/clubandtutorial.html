<!DOCTYPE HTML>
<html xmlns:layout="http://www.w3.org/1999/xhtml" xmlns:th="http://www.w3.org/1999/xhtml"
    layout:decorate="~{fragments/layout}" lang="en">

<head>
    <div layout:fragment="metadata" th:remove="tag">
        <title>The Nest - Club and Tutorial Calendar</title>
    </div>
</head>

<body>
    <div layout:fragment="content" th:remove="tag">

        <div class="heading">
            <h1>Club and Tutorial Calendar</h1>
        </div>

        <br>

        <div class="description">
            <h3>On this page, you can see the daily schedule of tutorials and see which teacher is available. <br>
                After that, you can also view a list of clubs that are meeting today, the timings, location, and other
                important details.</h3>

            <br>

            <div class="frq-content">
                <form action="/clubandtutorial" method="GET"
                      id="frqForm">
                    <div class="frq-form">
                        <p for="frqField">Type in your Password</p>
                        <input style="background-color: lightblue;"
                               name="password" id="frqField" type="password" value="Password">
                        <br/>
                        <button class="buttons">Submit</button>
                        <br/>
                        <p th:text="${passwordMessage}"></p>
                    </div>
                </form>
            </div>
            
            <br/>

            <form id="createEventForm" style="padding-top: 5px;">
                <input value="Date" type="text" name="title">
                <input value="Month" type="text" name="start">
                <input value="Year" type="text" name="end">
            </form>

            <button onclick="makeEvent()" class="blue-dcurve-btn my-2.5">Click here to add an event</button>
        </div>

        <br>
        <br>

        <div id='calendar' class="calendar"></div>

        <script>

            // document.addEventListener('DOMContentLoaded', function () {
            var calendarEl = document.getElementById('calendar');

            var calendar = new FullCalendar.Calendar(calendarEl, {
                initialView: 'dayGridMonth',
                initialDate: '2022-02-07',
                headerToolbar: {
                    left: 'prev,next today',
                    center: 'title',
                    right: 'dayGridMonth,timeGridWeek,timeGridDay'
                },
                // events: [
                //     {
                //         title: 'All Day Event',
                //         start: '2022-02-01'
                //     },
                //     {
                //         title: 'Long Event',
                //         start: '2022-02-07',
                //         end: '2022-02-10'
                //     },
                //     {
                //         groupId: '999',
                //         title: 'Repeating Event',
                //         start: '2022-02-09T16:00:00'
                //     },
                //     {
                //         groupId: '999',
                //         title: 'Repeating Event',
                //         start: '2022-02-16T16:00:00'
                //     },
                //     {
                //         title: 'Conference',
                //         start: '2022-02-11',
                //         end: '2022-02-13'
                //     },
                //     {
                //         title: 'Meeting',
                //         start: '2022-02-12T10:30:00',
                //         end: '2022-02-12T12:30:00'
                //     },
                //     {
                //         title: 'Lunch',
                //         start: '2022-02-12T12:00:00'
                //     },
                //     {
                //         title: 'Meeting',
                //         start: '2022-02-12T14:30:00'
                //     },
                //     {
                //         title: 'Birthday Party',
                //         start: '2022-02-13T07:00:00'
                //     },
                //     {
                //         title: 'Click for Google',
                //         url: 'http://google.com/',
                //         start: '2022-02-28'
                //     }
                // ]
            });
            calendar.render();

            var testEvent = {
                title: document.getElementById("createEventForm").elements["title"],
                start: document.getElementById("createEventForm").elements["start"],
                end: document.getElementById("createEventForm").elements["end"],
                // title: 'The Title',
                // start: '2022-02-16',
                // end: '2022-02-19'
            }

            function makeEvent() {
                alert("Your event was saved!")
                console.log(testEvent)
                calendar.addEvent(testEvent)
            }
            // });

            // document.addEventListener('DOMContentLoaded', function () {
            //     var calendarEl = document.getElementById('calendar');
            //     var calendar = new FullCalendar.Calendar(calendarEl, {
            //         initialView: 'dayGridMonth'
            //     });
            //     calendar.render();
            // });

        </script>
    </div>
</body>

</html>